(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{18:function(e,t,o){},19:function(e,t,o){},21:function(e,t,o){"use strict";o.r(t);var n=o(2),c=o.n(n),s=o(12),r=o.n(s),l=(o(18),o(5)),i=o(4),a=o(3),u=o(7),f=o(9),j=o(11),b=o(13),p=(o(19),o(1)),d=["128x128","64x64","32x32"],h=["png","jpeg","jpg","ico"],x="#007bff";var O=function(e){return document.body.style.cursor="".concat(e,"-resize")},g=function(e){var t=e.val,o=e.setVal,n=e.setToggle;return Object(p.jsx)("div",{className:"options",style:{height:40},onClick:function(){o(t),n(!1)},children:t})},y=function(e){var t=e.data,o=e.value,c=e.setValue,s=e.id,r=Object(n.useState)(!1),l=Object(i.a)(r,2),a=l[0],u=l[1];return Object(n.useEffect)((function(){var e=function(e){console.log(e.target.className,s),e.target.className!=="options-"+s&&u(!1)};return document.addEventListener("click",e),function(){document.removeEventListener("click",e)}}),[s]),Object(p.jsxs)("div",{className:"options-".concat(s),style:{marginRight:5,marginLeft:5},children:[Object(p.jsxs)("div",{className:"options-".concat(s),onClick:function(){return u((function(e){return!e}))},style:{background:"white",display:"flex",justifyContent:"space-between",alignItems:"center",paddingLeft:5,paddingRight:5,width:100,height:30},children:[o,Object(p.jsx)(j.b,{color:"black",size:25})]}),a&&Object(p.jsx)("div",{className:"options-".concat(s),style:{position:"absolute",boxShadow:"0px 10px 12px 2px rgba(0,0,0,0.3)",paddingTop:5,paddingRight:5,paddingLeft:5,width:100,background:"white",display:"flex",alignItems:"flex-start",flexDirection:"column"},children:t.map((function(e,t){return Object(p.jsx)(g,{setVal:c,setToggle:u,val:e,index:t},t)}))})]})},v=function(e){var t=e.navRef,o=e.undo,n=e.fillColorRef,c=e.fillColor,s=e.setFillColor,r=e.setType,l=e.type,i=e.codec,a=e.resolution,O=e.setResolution,g=e.setCodec,v=e.clearRect,m=e.setColor,k=e.colorRef,C=e.color,N=e.ctx,z=e.bgColor,S=e.setBgColor,R=e.setSize,w=e.size;return Object(p.jsxs)("div",{className:"nav-bar-container",ref:t,children:[Object(p.jsxs)("div",{className:"full-flex",children:[Object(p.jsxs)("div",{className:"undo"==l?"icon-choose":"box-icon",children:["  ",Object(p.jsx)(j.a,{color:"undo"==l?"#007bff":"grey",size:20,className:"icon",onClick:function(){o(),r("undo")}}),"    "]}),Object(p.jsxs)("div",{className:"move"==l?"icon-choose":"box-icon",children:[" ",Object(p.jsx)(b.a,{size:20,color:"move"==l&&x,className:"icon",onClick:function(){return r("move")}})]}),Object(p.jsxs)("div",{className:""==l?"icon-choose":"box-icon",children:[" ",Object(p.jsx)(u.d,{size:20,color:""==l&&x,className:"icon",onClick:function(){return v()}})]}),Object(p.jsxs)("div",{className:""==l?"icon-choose":"box-icon",children:[" ",Object(p.jsx)(f.a,{size:20,color:""==l&&x,className:"icon",onClick:function(e){return function(e){r("erase"),m(k.current.value),e.current.globalCompositeOperation="destination-out",m("#FFF")}(N)}})]}),Object(p.jsxs)("div",{className:"connect"==l?"icon-choose":"box-icon",children:[" ",Object(p.jsx)(f.c,{size:20,color:"connect"==l&&x,className:"icon",onClick:function(){return r("connect")}})]}),Object(p.jsxs)("div",{className:"rect"==l?"icon-choose":"box-icon",children:[" ",Object(p.jsx)(u.c,{size:20,color:"rect"==l&&x,className:"icon",onClick:function(){return r("rect")}})]}),Object(p.jsxs)("div",{className:"circle"==l?"icon-choose":"box-icon",children:[" ",Object(p.jsx)(u.b,{size:20,color:"circle"==l&&x,className:"icon",onClick:function(){return r("circle")}})]}),Object(p.jsxs)("div",{className:"stroke"==l?"icon-choose":"box-icon",children:[" ",Object(p.jsx)(f.b,{size:35,color:"stroke"==l&&x,className:"icon stroke",onClick:function(){return r("stroke")}})]}),Object(p.jsxs)("div",{className:"brush"==l?"icon-choose":"box-icon",children:[" ",Object(p.jsx)(u.a,{onClick:function(){return r("brush")},color:"brush"==l&&x,size:20,className:"icon"})]})]}),Object(p.jsxs)("div",{className:"full-flex",children:[Object(p.jsx)(y,{id:0,data:d,setValue:O,value:a}),Object(p.jsx)(y,{id:1,data:h,setValue:g,value:i}),Object(p.jsx)("input",{type:"color",className:"color-picker",ref:k,value:z,onChangeCapture:function(e){return S((function(t){return e.target.value}))}}),Object(p.jsx)("h3",{className:"logo",children:"FV"})]}),"move"!==l?Object(p.jsxs)("div",{className:"box-tool",children:[Object(p.jsxs)("div",{className:"tool-row",children:[Object(p.jsx)("label",{htmlFor:"stroke-size",children:"STROKE SIZE: "}),Object(p.jsx)("input",{id:"slider",type:"range",min:"0",max:"50",className:"slider",defaultValue:w,onChange:function(e){return R(e.target.value)},onMouseUp:function(e){return R(e.target.value)}})]}),"erase"!==l&&Object(p.jsxs)("div",{className:"tool-row",children:[Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("label",{htmlFor:"stroke-color",children:"STROKE: "}),Object(p.jsx)("input",{type:"color",className:"color-picker",ref:k,value:C,onChangeCapture:function(e){return m(e.target.value)},colorformat:"rgba"})]}),"brush"!==l&&"stroke"!==l?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("label",{htmlFor:"fill-color",children:"FILL: "}),Object(p.jsx)("input",{type:"color",className:"color-picker",ref:n,value:c,onChangeCapture:function(e){return s(e.target.value)}})]}):null]})]}):null]})},m=function(e){var t=e.path,o=e.setPaths;console.log(t);var c=Object(n.useState)(t.size),s=Object(i.a)(c,2),r=s[0],l=s[1],u=Object(n.useState)(t.fill),f=Object(i.a)(u,2),j=f[0],b=f[1],d=Object(n.useState)(t.color),h=Object(i.a)(d,2),x=h[0],O=h[1],g=Object(n.useRef)(),y=Object(n.useRef)();return Object(n.useEffect)((function(){o((function(e){return e[e.length-1].color=x,e[e.length-1].fill=j,e[e.length-1].size=r,Object(a.a)(e)}))}),[x,j,r]),Object(p.jsxs)("div",{className:"box-tool",children:[Object(p.jsxs)("div",{className:"tool-row",children:[Object(p.jsx)("label",{htmlFor:"stroke-size",children:"STROKE SIZE: "}),Object(p.jsx)("input",{id:"slider",type:"range",min:"0",max:"50",className:"slider",defaultValue:r,onChange:function(e){return l(e.target.value)},onMouseUp:function(e){return l(e.target.value)}})]}),Object(p.jsxs)("div",{className:"tool-row",children:[Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("label",{htmlFor:"stroke-color",children:"STROKE: "}),Object(p.jsx)("input",{type:"color",className:"color-picker",ref:g,value:x,onChangeCapture:function(e){return O(e.target.value)},colorformat:"rgba"})]}),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("label",{htmlFor:"fill-color",children:"FILL: "}),Object(p.jsx)("input",{type:"color",className:"color-picker",ref:y,value:j,onChangeCapture:function(e){return b(e.target.value)}})]})]})]})};var k=function(){var e,t=Object(n.useRef)(),o=Object(n.useRef)(),c=window.innerHeight,s=window.innerWidth,r=Object(n.useState)([]),u=Object(i.a)(r,2),f=u[0],j=u[1],b=Object(n.useState)("brush"),d=Object(i.a)(b,2),h=d[0],g=d[1],y=Object(n.useState)("#252525"),k=Object(i.a)(y,2),C=k[0],N=k[1],z=Object(n.useState)("#dbdbdb"),S=Object(i.a)(z,2),R=S[0],w=S[1],E=Object(n.useRef)(),F=Object(n.useState)(10),L=Object(i.a)(F,2),T=L[0],I=L[1],X=Object(n.useState)(),P=Object(i.a)(X,2),Y=P[0],M=P[1],V=Object(n.useState)("#fafafa"),W=Object(i.a)(V,2),D=W[0],B=W[1],K=Object(n.useState)([]),U=Object(i.a)(K,2),J=U[0],A=U[1],Z=Object(n.useState)(null),H=Object(i.a)(Z,2),$=H[0],q=H[1],G=Object(n.useState)({x:s/2,y:c/2}),Q=Object(i.a)(G,2),_=Q[0],ee=Q[1],te=Object(n.useRef)(),oe=Object(n.useRef)(),ne=Object(n.useState)("jpeg"),ce=Object(i.a)(ne,2),se=ce[0],re=ce[1],le=Object(n.useState)("32x32"),ie=Object(i.a)(le,2),ae=ie[0],ue=ie[1],fe=Object(n.useState)([]),je=Object(i.a)(fe,2),be=je[0],pe=je[1],de=Object(n.useRef)();Object(n.useLayoutEffect)((function(){var e=o.current;e.width=300,e.height=300,te.current=e.getContext("2d"),xe()}),[]);var he=function(e,t){e.strokeStyle=t.color,e.fillStyle=t.fill,e.lineWidth=t.size,te.current.beginPath(),e.fillRect(t.pos[0].x1,t.pos[0].y1,t.pos[0].x2-t.pos[0].x1,t.pos[0].y2-t.pos[0].y1),e.strokeRect(t.pos[0].x1,t.pos[0].y1,t.pos[0].x2-t.pos[0].x1,t.pos[0].y2-t.pos[0].y1),e.stroke(),e.closePath()};function xe(){te.current.fillStyle=D,te.current.lineCap="round",te.current.lineJoin="round",te.current.fillRect(0,0,te.current.canvas.width,te.current.canvas.height),f.length>0&&f.forEach((function(e){var t,o;"rect"==e.type?he(te.current,e):"circle"==e.type?function(e,t){e.strokeStyle=t.color;var o=t.pos[0].x1,n=t.pos[0].x2,c=t.pos[0].y1,s=n-o,r=t.pos[0].y2-c;e.fillStyle=t.fill,e.lineWidth=t.size,te.current.beginPath(),e.ellipse(o+s/4,c+r/4,s<0?-1*s:s,r<0?-1*r:r,0,0,2*Math.PI),e.stroke(),e.fill(),e.closePath()}(te.current,e):"stroke"==e.type?(t=te.current,o=e,te.current.beginPath(),t.strokeStyle=o.color,t.lineWidth=o.size,t.moveTo(o.pos[0].x1,o.pos[0].y1),t.lineTo(o.pos[0].x2,o.pos[0].y2),t.stroke(),t.closePath()):"brush"==e.type?function(e,t){te.current.beginPath();for(var o=0;o<t.pos.length-1;o++)void 0!==t.pos[o+1]&&(e.strokeStyle=t.color,e.lineWidth=t.size,e.moveTo(t.pos[o].x,t.pos[o].y),e.lineTo(t.pos[o+1].x,t.pos[o+1].y),e.stroke());e.closePath()}(te.current,e):"connect"==e.type&&function(e,t){e.beginPath(),e.moveTo(t.pos[0].x,t.pos[0].y);for(var o=0;o<t.pos.length-1;o++)void 0!==t.pos[o+1]&&(e.strokeStyle=t.color,e.fillStyle=t.fill,e.lineWidth=t.size,e.lineTo(t.pos[o].x,t.pos[o].y),e.lineTo(t.pos[o+1].x,t.pos[o+1].y),e.fill(),e.stroke());e.closePath()}(te.current,e)})),console.log(be),be.length>0&&(console.log("select: ",be),he(te.current,be[0]))}return Object(n.useEffect)((function(){"move"!==h&&pe([])}),[h]),Object(n.useEffect)((function(){xe();var e=new Image,t=te.current.canvas.toDataURL("image/jpeg");e.src=t,document.getElementById("favicon").href=t}),[D,f,be]),Object(n.useEffect)((function(){te.current.lineCap="round",te.current.lineJoin="round",te.current.strokeStyle=C,te.current.fillStyle=R,te.current.lineWidth=T}),[C,T,R]),Object(n.useEffect)((function(){if(console.log(J),J.length>0)if(17===J[0]&&13===J[1])"connect"===f[f.length-1].type&&j((function(e){return e[e.length-1].pos.push({x:e[e.length-1].pos[0].x,y:e[e.length-1].pos[0].y}),Object(a.a)(e)})),A([]);else if(17===J[0]&&90===J[1]){Object(a.a)(f).pop(),j()}else 46===J[0]&&1===J.length&&f.forEach((function(e,t){if(console.log(671,t,e),!0===e.choose){console.log("choose :",t);var o=Object(a.a)(f);o.pop(),j(o),pe([])}}))}),[J,f]),Object(n.useEffect)((function(){var e=function(e){A((function(t){return-1==t.findIndex((function(t){return t===e.keyCode}))?[].concat(Object(a.a)(t),[e.keyCode]):Object(a.a)(t)}))},t=function(e){A([])};return document.addEventListener("keydown",e),document.addEventListener("keyup",t),function(){document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}})),Object(p.jsxs)("div",{className:"App",children:[be.length>0&&Object(p.jsx)(m,{path:f[f.length-1],setPaths:j}),Object(p.jsx)(v,{navRef:oe,fillColor:R,fillColorRef:E,setFillColor:w,clearRect:function(){te.current.clearRect(0,0,te.current.canvas.width,te.current.canvas.height),j([])},setType:g,type:h,setColor:N,colorRef:t,ctx:te,color:C,bgColor:D,setBgColor:B,setSize:I,size:T,setCodec:re,setResolution:ue,codec:se,resolution:ae,undo:function(){var e=Object(a.a)(f);e.pop(),j(e)}}),Object(p.jsx)("h1",{children:" FAVICION EASLY "}),Object(p.jsx)("canvas",(e={ref:o,width:500,height:500},Object(l.a)(e,"ref",o),Object(l.a)(e,"onKeyPressCapture",(function(e){return A(e)})),Object(l.a)(e,"onMouseDown",(function(e){e.preventDefault(),e.stopPropagation();var t=e.offsetX||e.pageX-o.current.offsetLeft,n=e.ostartX||e.pageY-o.current.offsetTop;if(de.current={startX:t,startY:n,endX:t,endY:n},ee((function(e){return e.x=t,e.y=n,e})),M(!0),"brush"===h)j((function(e){return[].concat(Object(a.a)(e),[{id:f.length,color:C,type:h,size:T,pos:[{x:t,y:n}],choose:!1}])}));else if("move"===h)console.log(327,t,n),f.forEach((function(e,o){console.log(e),t>(e.pos[0].x1||e.pos[0].x)&&t<(e.pos[0].x2||e.pos[0].x)&&n>(e.pos[0].y1||e.pos[0].y)&&n<(e.pos[0].y2||e.pos[0].y)&&(console.log("asddddddddddddddddd"),pe([{id:"select",color:x,type:h,size:4,fill:"rgba(0,0,0,0)",pos:[{x1:e.pos[0].x1-e.size/2,y1:e.pos[0].y1-e.size/2,x2:e.pos[0].x2+e.size/2,y2:e.pos[0].y2+e.size/2}],choose:!1}]),j((function(e){return e.forEach((function(e,t){e.choose=o==t})),e=function(e,t){var o=e[t],n=e.slice(0,t),c=e.slice(t,e.length);return c.shift(),console.log(o,n,c),[].concat(Object(a.a)(n),Object(a.a)(c),[o])}(e,o),Object(a.a)(e)})),q(o))}));else if("eraser"===h);else if("rect"===h)j((function(e){return[].concat(Object(a.a)(e),[{id:f.length,color:C,type:h,size:T,fill:R,pos:[{x1:t,y1:n,x2:t,y2:n}],choose:!1}])}));else if("circle"===h)j((function(e){return[].concat(Object(a.a)(e),[{id:f.length,color:C,fill:R,type:h,size:T,pos:[{x1:t,y1:n,x2:t,y2:n}]}])}));else if("stroke"===h)j((function(e){return[].concat(Object(a.a)(e),[{id:f.length,color:C,type:h,size:T,pos:[{x1:t,y1:n,x2:t,y2:n}],choose:!1}])}));else if("connect"===h)if(f.length>0)if("connect"!==f[f.length-1].type)j((function(e){return[].concat(Object(a.a)(e),[{id:f.length,color:C,fill:R,type:h,size:T,pos:[{x:t,y:n}],choose:!1}])}));else{var c=f.length-1,s=f[c].pos,r=s.length,l=r-1;(function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);t&&(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16))})(R);s[l].x===s[0].x&&s[l].y===s[0].y&&1!==r?j((function(e){return[].concat(Object(a.a)(e),[{id:f.length,color:C,fill:R,type:h,size:T,pos:[{x:t,y:n}],choose:!1}])})):j((function(e){var o=e[e.length-1].pos;return e[e.length-1].pos=[].concat(Object(a.a)(o),[{x:t,y:n}]),Object(a.a)(e)}))}else j((function(e){return[{id:f.length,color:C,fill:R,type:h,size:T,pos:[{x:t,y:n}],choose:!1}]}))})),Object(l.a)(e,"mouseOver",(function(e){e.offsetX||(e.pageX,o.current.offsetLeft),e.ostartX||(e.pageY,o.current.offsetTop)})),Object(l.a)(e,"onMouseMove",(function(e){var t,n,c,s,r,l,i=e.offsetX||e.pageX-o.current.offsetLeft,u=e.offsetY||e.pageY-o.current.offsetTop;if(ee((function(e){return e.x=i,e.y=u,e})),be.length>0){var b=be[0].pos[0];t=b.x2+20>i&&b.x2-20<i,c=b.y1+20>u&&b.y1-20<u,n=b.x1+20>i&&b.x1-20<i,s=b.y2+20>u&&b.y2-20<u,r=b.x1<i&&b.x2>i,l=b.y2>u&&b.y1<u,t&&c?O("ne"):t&&s||n&&c?O("se"):n&&s?O("ne"):t&&l||n&&l?O("e"):r&&s||r&&c?O("n"):document.body.style.cursor="auto"}if(Y){de.current.startX=_.x,de.current.startY=_.y,de.current.endX=i,de.current.endY=u;var p=de.current.endX-de.current.startX,d=de.current.endY-de.current.startY;if(be.length>0){if("move"===h){var x=f[$].pos[0],g=x.x1,y=x.y1,v=x.x2,m=x.y2;de.current.startX,de.current.startY;t&&c?(console.log("right top tuch "),j((function(e){return e[e.length-1].pos[0].x2+=p/2,e[e.length-1].pos[0].y1+=d/2,Object(a.a)(e)})),pe((function(e){return e[0].pos[0].x2+=p/2,e[0].pos[0].y1+=d/2,Object(a.a)(e)}))):t&&s?(console.log("right bottom tuch "),j((function(e){return e[e.length-1].pos[0].x2+=p/2,e[e.length-1].pos[0].y2+=d/2,Object(a.a)(e)})),pe((function(e){return e[0].pos[0].x2+=p/2,e[0].pos[0].y2+=d/2,Object(a.a)(e)}))):n&&c?(console.log("left top tuch "),j((function(e){return e[e.length-1].pos[0].x1+=p/2,e[e.length-1].pos[0].y1+=d/2,Object(a.a)(e)})),pe((function(e){return e[0].pos[0].x1+=p/2,e[0].pos[0].y1+=d/2,Object(a.a)(e)}))):n&&s?(console.log("left bottom tuch "),j((function(e){return e[e.length-1].pos[0].x1+=p/2,e[e.length-1].pos[0].y2+=d/2,Object(a.a)(e)})),pe((function(e){return e[0].pos[0].x1+=p/2,e[0].pos[0].y2+=d/2,Object(a.a)(e)}))):t&&l?(console.log("right"),console.log(i,u),j((function(e){return e[e.length-1].pos[0].x2+=p/2,Object(a.a)(e)})),pe((function(e){return e[0].pos[0].x2+=p/2,Object(a.a)(e)}))):n&&l?(console.log("left"),console.log(i,u),j((function(e){return e[e.length-1].pos[0].x1+=p/2,Object(a.a)(e)})),pe((function(e){return e[0].pos[0].x1+=p/2,Object(a.a)(e)}))):r&&s?(console.log("bottom"),j((function(e){return e[e.length-1].pos[0].y2+=d/2,Object(a.a)(e)})),pe((function(e){return e[0].pos[0].y2+=d/2,Object(a.a)(e)}))):r&&c?(console.log("top"),j((function(e){return e[e.length-1].pos[0].y1+=d/2,Object(a.a)(e)})),pe((function(e){return e[0].pos[0].y1+=d/2,Object(a.a)(e)}))):(j((function(e){var t=de.current,o=t.startX,n=t.endX,c=t.startY,s=t.endY,r=o-g,l=c-y,i=v-o,u=m-c;return e[$].pos=[{x1:n-r,y1:s-l,x2:n+i,y2:s+u}],Object(a.a)(e)})),pe((function(e){return e[0].pos=[{x1:g+p-e[0].size,y1:y+-e[0].size,x2:v+p+e[0].size,y2:m+d+e[0].size}],e})))}}else{var k,C=16==J[0],N=f[f.length-1].pos[0],z=N.x1,S=N.y1;if("brush"===h)k={x:_.x,y:_.y},j((function(e){var t=e[e.length-1].pos;return e[e.length-1].pos=[].concat(Object(a.a)(t),[{x:_.x,y:_.y}]),Object(a.a)(e)}));else if("connect"===h);else if("move"===h){var R=f[$].pos[0],w=R.x1,E=R.y1;R.x2,R.y2,de.current.startX,de.current.startY}else"eraser"===h||("rect"===h||"circle"===h?k=[{x1:z,y1:C?z:S,x2:_.x,y2:C?_.x:_.y}]:"stroke"===h&&(k=[{x1:z,y1:S,x2:_.x,y2:_.y}])),j((function(e){return e[e.length-1].pos=k,Object(a.a)(e)}))}}})),Object(l.a)(e,"onMouseUp",(function(){M(!1)})),Object(l.a)(e,"onMouseLeave",(function(e){})),e)),Object(p.jsx)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:Object(p.jsx)("div",{id:"download",style:{width:300},onClick:function(){!function(e){new Image;var t=te.current.canvas.toDataURL(),o=document.createElement("a");o.href=t,o.download="favicon.".concat(se),o.click()}()},children:"download"})}),Object(p.jsx)("div",{className:"img-bg"})]})},C=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,22)).then((function(t){var o=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;o(e),n(e),c(e),s(e),r(e)}))};r.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root")),C()}},[[21,1,2]]]);
//# sourceMappingURL=main.9c614db0.chunk.js.map